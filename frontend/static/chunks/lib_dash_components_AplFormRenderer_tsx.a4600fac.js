"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(self["webpackChunkaxiom_local_dash"] = self["webpackChunkaxiom_local_dash"] || []).push([["lib_dash_components_AplFormRenderer_tsx"],{

/***/ 88215:
/*!*************************************************!*\
  !*** ./lib/dash/components/AplFormRenderer.tsx ***!
  \*************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"AplFormRenderer\": () => (/* binding */ AplFormRenderer)\n/* harmony export */ });\n/* harmony import */ var classy_forms__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! classy-forms */ 66318);\n/* harmony import */ var lodash_isEqual__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! lodash/isEqual */ 47184);\n/* harmony import */ var lodash_isEqual__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(lodash_isEqual__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var mobx_react__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! mobx-react */ 32390);\n/* harmony import */ var mobx_react__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! mobx-react */ 88464);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! react */ 89526);\n/* harmony import */ var _stores_QueryRequestFormProps__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../stores/QueryRequestFormProps */ 26916);\n/* harmony import */ var _util_numbers__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../util/numbers */ 64684);\n/* harmony import */ var _DynamicAplEditor__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./DynamicAplEditor */ 9640);\n/* harmony import */ var _QueryAlerts__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./QueryAlerts */ 19608);\n/* harmony import */ var _QueryResults__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./QueryResults */ 84238);\n/* harmony import */ var _QueryStatusBar__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./QueryStatusBar */ 35629);\nvar __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\n\n\n\n\n\n\n\n\n\n\nlet AplFormRenderer = class AplFormRenderer extends react__WEBPACK_IMPORTED_MODULE_2__.Component {\n    constructor(props) {\n        super(props);\n        this.aplEditor = null;\n        this.onSubmit = (event, formFields, reset, isDirty) => {\n            this.props.onSubmit(event, formFields, reset, isDirty);\n        };\n        this.onEditorContentChange = (editorContent) => {\n            var _a;\n            (_a = this.formFields) === null || _a === void 0 ? void 0 : _a.editorContent.onChangeValue(editorContent);\n        };\n        this.onAplChange = (apl) => {\n            var _a;\n            (_a = this.formFields) === null || _a === void 0 ? void 0 : _a.apl.onChangeValue(apl);\n            if (this.props.onAplChange) {\n                this.props.onAplChange(apl);\n            }\n        };\n        this.onQuickRangeChanged = (quickRange) => {\n            var _a;\n            (_a = this.formFields) === null || _a === void 0 ? void 0 : _a.quickRange.onChangeValue(quickRange);\n            if (quickRange && this.formFields) {\n                // Clear the start, end\n                const { startTime, endTime } = this.formFields;\n                startTime.onChangeValue('');\n                endTime.onChangeValue('');\n            }\n        };\n        this.onDateRangeChanged = (timestampStart, timestampEnd, refreshRate) => {\n            if (this.formFields) {\n                const { startTime, endTime } = this.formFields;\n                startTime.onChangeValue(timestampStart);\n                endTime.onChangeValue(timestampEnd);\n                if (timestampStart || timestampEnd) {\n                    // Clear the quick range\n                    this.formFields.quickRange.onChangeValue('');\n                }\n            }\n        };\n        this.onCompareAgainstChanged = (compareAgainst) => {\n            var _a, _b;\n            (_a = this.formFields) === null || _a === void 0 ? void 0 : _a.against.onChangeValue(compareAgainst);\n            if (compareAgainst) {\n                // Clear the against timestamp\n                (_b = this.formFields) === null || _b === void 0 ? void 0 : _b.againstTimestamp.onChangeValue('');\n            }\n        };\n        this.onCompareAgainstTimestampChanged = (timestamp) => {\n            var _a, _b;\n            (_a = this.formFields) === null || _a === void 0 ? void 0 : _a.againstTimestamp.onChangeValue(timestamp);\n            if (timestamp) {\n                // Clear the against\n                (_b = this.formFields) === null || _b === void 0 ? void 0 : _b.against.onChangeValue('');\n            }\n        };\n        this.onSelectionChanged = (selection) => {\n            var _a, _b, _c, _d;\n            (_a = this.formFields) === null || _a === void 0 ? void 0 : _a.startLineNumber.onChangeValue(selection.startLineNumber);\n            (_b = this.formFields) === null || _b === void 0 ? void 0 : _b.endLineNumber.onChangeValue(selection.endLineNumber);\n            (_c = this.formFields) === null || _c === void 0 ? void 0 : _c.startColumn.onChangeValue(selection.startColumn);\n            (_d = this.formFields) === null || _d === void 0 ? void 0 : _d.endColumn.onChangeValue(selection.endColumn);\n        };\n        this.onLineColAlertClick = (line, col) => {\n            var _a;\n            (_a = this.aplEditor) === null || _a === void 0 ? void 0 : _a.setPosition(line, col);\n        };\n        this.onContainsTimeFilterChange = (containsTimeFilter) => {\n            var _a, _b;\n            (_a = this.formFields) === null || _a === void 0 ? void 0 : _a.containsTimeFilter.onChangeValue(containsTimeFilter);\n            if (containsTimeFilter) {\n                // Remove against value since time range from where clause is unknown\n                (_b = this.formFields) === null || _b === void 0 ? void 0 : _b.against.onChangeValue(undefined);\n            }\n        };\n        this.onSelectedDatasetsChange = (datasets) => {\n            var _a, _b;\n            if (!lodash_isEqual__WEBPACK_IMPORTED_MODULE_1___default()((_a = this.formFields) === null || _a === void 0 ? void 0 : _a.datasets, datasets)) {\n                (_b = this.formFields) === null || _b === void 0 ? void 0 : _b.datasets.onChangeValue(datasets);\n                if (this.props.onSelectedDatasetsChange) {\n                    this.props.onSelectedDatasetsChange(datasets);\n                }\n            }\n        };\n        this.onClearClick = (e) => {\n            e.preventDefault();\n            e.stopPropagation();\n            this.reset();\n            this.props.datasetStore.cancelQuerying();\n            // change key to reinitialize editor\n            this.setState({ editorKey: this.state.editorKey + 1 });\n            if (this.props.onClearClick && this.formFields) {\n                this.props.onClearClick(this.formFields);\n            }\n        };\n        this.onCancelClick = (e) => {\n            e.preventDefault();\n            e.stopPropagation();\n            this.props.datasetStore.cancelQuerying();\n        };\n        this.insertText = (text) => {\n            if (this.aplEditor) {\n                this.aplEditor.insertText(text);\n            }\n        };\n        // eslint-disable-next-line @typescript-eslint/no-empty-function, no-empty-function\n        this.reset = () => { };\n        this.state = {\n            editorKey: 0,\n        };\n    }\n    render() {\n        var _a;\n        const { render, defaultQuery, prohibitTimeFilter } = this.props;\n        const formFieldConfigs = [\n            {\n                name: 'editorContent',\n            },\n            {\n                name: 'apl',\n            },\n            {\n                name: 'quickRange',\n                initValue: '30m',\n            },\n            {\n                name: 'startTime',\n            },\n            {\n                name: 'endTime',\n            },\n            {\n                name: 'against',\n            },\n            {\n                name: 'againstTimestamp',\n            },\n            {\n                name: 'aggChartOpts',\n            },\n            {\n                // Preserved for backwards compatibility.\n                name: 'displayNull',\n            },\n            {\n                name: 'containsTimeFilter',\n                isFalse: prohibitTimeFilter ? true : undefined,\n                helperText: prohibitTimeFilter ? 'Time filter is not allowed in query' : undefined,\n                initValue: false,\n            },\n            {\n                name: 'datasets',\n                initValue: [],\n            },\n            // Selection options\n            {\n                name: 'startLineNumber',\n            },\n            {\n                name: 'endLineNumber',\n            },\n            {\n                name: 'startColumn',\n            },\n            {\n                name: 'endColumn',\n            },\n        ];\n        (0,_stores_QueryRequestFormProps__WEBPACK_IMPORTED_MODULE_3__.initFormFieldConfigsFromApl)(formFieldConfigs, defaultQuery);\n        const defaultValue = (_a = formFieldConfigs.find((field) => field.name === 'editorContent')) === null || _a === void 0 ? void 0 : _a.initValue;\n        const selectionConfig = formFieldConfigs.reduce((accum, field) => {\n            const { name } = field;\n            if (name === 'startLineNumber' || name === 'endLineNumber' || name === 'startColumn' || name === 'endColumn') {\n                accum[name] = field.initValue;\n            }\n            return accum;\n        }, {});\n        let selection;\n        if ((0,_util_numbers__WEBPACK_IMPORTED_MODULE_4__.isNumeric)(selectionConfig.startLineNumber) &&\n            (0,_util_numbers__WEBPACK_IMPORTED_MODULE_4__.isNumeric)(selectionConfig.endLineNumber) &&\n            (0,_util_numbers__WEBPACK_IMPORTED_MODULE_4__.isNumeric)(selectionConfig.startColumn) &&\n            (0,_util_numbers__WEBPACK_IMPORTED_MODULE_4__.isNumeric)(selectionConfig.endColumn)) {\n            selection = {\n                startLineNumber: selectionConfig.startLineNumber,\n                startColumn: selectionConfig.startColumn,\n                endLineNumber: selectionConfig.endLineNumber,\n                endColumn: selectionConfig.endColumn,\n            };\n        }\n        return render({\n            renderForm: (context) => {\n                return (react__WEBPACK_IMPORTED_MODULE_2__.createElement(mobx_react__WEBPACK_IMPORTED_MODULE_5__.Observer, null, () => {\n                    const { hideDateRange, hideAgainst, renderRunButton, renderDefaultResultsContent, onRunClick, className, renderResults, onExpandTimeRange, onDropdownVisibleChange, onAggChartOptsChange, disabled, renderResultAlerts, loadingDefaultValue, hideClear, } = this.props;\n                    const { isQueryRunning, lastFormValues } = this.props.datasetStore;\n                    const { formFields, isDirty, reset } = context;\n                    // store these as members so bound functions don't need to be created which triggers re-renders\n                    this.formFields = formFields;\n                    this.reset = reset;\n                    let dirty = isDirty();\n                    // Expects lastQueryFormValues to be set onSubmit and use those to check if the form is dirty\n                    // otherwise, use isDirty\n                    if (lastFormValues) {\n                        const currValues = (0,classy_forms__WEBPACK_IMPORTED_MODULE_0__.formFieldsToObject)(formFields);\n                        dirty = !lodash_isEqual__WEBPACK_IMPORTED_MODULE_1___default()(currValues, lastFormValues);\n                    }\n                    const validationErrors = [];\n                    Object.keys(formFields).forEach((key) => {\n                        const field = formFields[key];\n                        if (field.hasError && field.helperText) {\n                            validationErrors.push(field.helperText);\n                        }\n                    });\n                    const isCancelable = isQueryRunning;\n                    return (react__WEBPACK_IMPORTED_MODULE_2__.createElement(\"div\", { className: className },\n                        react__WEBPACK_IMPORTED_MODULE_2__.createElement(_DynamicAplEditor__WEBPACK_IMPORTED_MODULE_6__.DynamicAplEditor, { key: this.state.editorKey, isDirty: dirty, disabled: disabled, hideDateRange: hideDateRange, hideAgainst: hideAgainst, aplEditorRef: (ref) => {\n                                this.aplEditor = ref;\n                            }, defaultValue: defaultValue, onEditorContentChange: this.onEditorContentChange, onAplChange: this.onAplChange, onRunClick: onRunClick, renderRunButton: renderRunButton, quickRange: formFields.quickRange.value, startTime: formFields.startTime.value, endTime: formFields.endTime.value, against: formFields.against.value, againstTimestamp: formFields.againstTimestamp.value, onQuickRangeChanged: this.onQuickRangeChanged, onDateRangeChanged: this.onDateRangeChanged, onCompareAgainstChanged: this.onCompareAgainstChanged, onCompareAgainstTimestampChanged: this.onCompareAgainstTimestampChanged, disableAgainst: !formFields.apl.value.match(/summarize/gi) || formFields.containsTimeFilter.value, onSelectionChange: this.onSelectionChanged, selection: selection, containsTimeFilter: formFields.containsTimeFilter.value, onContainsTimeFilterChange: this.onContainsTimeFilterChange, onSelectedDatasetsChange: this.onSelectedDatasetsChange, loadingDefaultValue: loadingDefaultValue, onClearClick: isCancelable ? this.onCancelClick : this.onClearClick, clearBtnText: isCancelable ? 'Cancel' : undefined, hideClear: hideClear }),\n                        react__WEBPACK_IMPORTED_MODULE_2__.createElement(_QueryStatusBar__WEBPACK_IMPORTED_MODULE_7__.QueryStatusBar, { onAggChartOptsChange: onAggChartOptsChange, onDropdownVisibleChange: onDropdownVisibleChange }),\n                        react__WEBPACK_IMPORTED_MODULE_2__.createElement(_QueryAlerts__WEBPACK_IMPORTED_MODULE_8__.QueryAlerts, { className: \"m4\" }),\n                        renderResults ? (renderResults({\n                            context: context,\n                            queryResultsProps: {\n                                onLineColAlertClick: this.onLineColAlertClick.bind(this),\n                                otherError: (validationErrors === null || validationErrors === void 0 ? void 0 : validationErrors.length) ? validationErrors[0] : undefined,\n                            },\n                        })) : (react__WEBPACK_IMPORTED_MODULE_2__.createElement(_QueryResults__WEBPACK_IMPORTED_MODULE_9__.QueryResults\n                        // Settings are global\n                        , { \n                            // Settings are global\n                            settingsKey: \"*\", showAllColumns: true, renderDefaultContent: renderDefaultResultsContent, onExpandTimeRange: formFields.containsTimeFilter.value ? undefined : onExpandTimeRange, hideRaw: true, renderOtherAlerts: renderResultAlerts ? renderResultAlerts : undefined, onLineColAlertClick: this.onLineColAlertClick, otherError: (validationErrors === null || validationErrors === void 0 ? void 0 : validationErrors.length) ? validationErrors[0] : undefined }))));\n                }));\n            },\n            formFieldConfigs: formFieldConfigs,\n            onSubmit: this.onSubmit,\n        });\n    }\n};\nAplFormRenderer = __decorate([\n    (0,mobx_react__WEBPACK_IMPORTED_MODULE_10__.inject)('datasetStore'),\n    mobx_react__WEBPACK_IMPORTED_MODULE_10__.observer\n], AplFormRenderer);\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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LEdBQUcsRUFDZixjQUFjLFFBQ2Qsb0JBQW9CLEVBQUUsMkJBQTJCLEVBQ2pELGlCQUFpQixFQUFFLFVBQVUsQ0FBQyxrQkFBa0IsQ0FBQyxLQUFLLENBQUMsQ0FBQyxDQUFDLFNBQVMsQ0FBQyxDQUFDLENBQUMsaUJBQWlCLEVBQ3RGLE9BQU8sUUFDUCxpQkFBaUIsRUFBRSxrQkFBa0IsQ0FBQyxDQUFDLENBQUMsa0JBQWtCLENBQUMsQ0FBQyxDQUFDLFNBQVMsRUFDdEUsbUJBQW1CLEVBQUUsSUFBSSxDQUFDLG1CQUFtQixFQUM3QyxVQUFVLEVBQUUsaUJBQWdCLGFBQWhCLGdCQUFnQix1QkFBaEIsZ0JBQWdCLENBQUUsTUFBTSxFQUFDLENBQUMsQ0FBQyxnQkFBZ0IsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsU0FBUyxHQUN0RSxDQUNILENBQ0csQ0FDUCxDQUFDO2dCQUNKLENBQUMsQ0FDUSxDQUNaLENBQUM7WUFDSixDQUFDO1lBQ0QsZ0JBQWdCLEVBQUUsZ0JBQWdCO1lBQ2xDLFFBQVEsRUFBRSxJQUFJLENBQUMsUUFBUTtTQUN4QixDQUFDLENBQUM7SUFDTCxDQUFDO0NBNkhGO0FBN1ZZLGVBQWU7SUFGM0IsbURBQU0sQ0FBQyxjQUFjLENBQUM7SUFDdEIsaURBQVE7R0FDSSxlQUFlLENBNlYzQjtBQTdWMkIiLCJzb3VyY2VzIjpbImZpbGU6Ly8vVXNlcnMvd2F0ZXJtZWxvbi9Qcm9qZWN0cy9BeGlvbS9jb2RlL2F4aW9taHEtYXBwL2Zyb250ZW5kL2xpYi9kYXNoL2NvbXBvbmVudHMvQXBsRm9ybVJlbmRlcmVyLnRzeCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQge1xuICBGb3JtRmllbGRDb25maWcsXG4gIGZvcm1GaWVsZHNUb09iamVjdCxcbiAgRm9ybUZpZWxkc1dpdGhFdmVudEhlbHBlcnMsXG4gIEZvcm1GaWVsZHNXaXRoSGVscGVycyxcbiAgRm9ybXNDb250ZXh0Q29udGV4dCxcbn0gZnJvbSAnY2xhc3N5LWZvcm1zJztcbmltcG9ydCBpc0VxdWFsIGZyb20gJ2xvZGFzaC9pc0VxdWFsJztcbmltcG9ydCB7IGluamVjdCwgT2JzZXJ2ZXIsIG9ic2VydmVyIH0gZnJvbSAnbW9ieC1yZWFjdCc7XG5pbXBvcnQgeyBJUmFuZ2UgfSBmcm9tICdtb25hY28tZWRpdG9yJztcbmltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5cbmltcG9ydCB7IEFQTFJlcXVlc3RXaXRoT3B0aW9ucyB9IGZyb20gJy4uL3NoYXJlZC9kYXNoJztcbmltcG9ydCB7IEluamVjdGVkRGF0YXNldFN0b3JlIH0gZnJvbSAnLi4vc3RvcmVzL0RhdGFzZXRTdG9yZSc7XG5pbXBvcnQgeyBBZ2dDaGFydE9wdHMgfSBmcm9tICcuLi9zdG9yZXMvRWxlbWVudHNEYXRhc2V0U3RvcmUnO1xuaW1wb3J0IHsgQXBsRm9ybVByb3BzLCBpbml0Rm9ybUZpZWxkQ29uZmlnc0Zyb21BcGwgfSBmcm9tICcuLi9zdG9yZXMvUXVlcnlSZXF1ZXN0Rm9ybVByb3BzJztcbmltcG9ydCB7IENvbXBhcmVBZ2FpbnN0LCBGYW5jeVRpbWUsIFF1aWNrUmFuZ2UgfSBmcm9tICcuLi91dGlsL2RhdGVzJztcbmltcG9ydCB7IGlzTnVtZXJpYyB9IGZyb20gJy4uL3V0aWwvbnVtYmVycyc7XG5cbmltcG9ydCBBcGxFZGl0b3IsIHsgQXBsRWRpdG9yUHJvcHMgfSBmcm9tICcuL0FwbEVkaXRvcic7XG5pbXBvcnQgeyBEeW5hbWljQXBsRWRpdG9yIH0gZnJvbSAnLi9EeW5hbWljQXBsRWRpdG9yJztcbmltcG9ydCB7IFF1ZXJ5QWxlcnRzIH0gZnJvbSAnLi9RdWVyeUFsZXJ0cyc7XG5pbXBvcnQgeyBCYXNlUXVlcnlGb3JtUmVuZGVyUGFyYW1zLCBCYXNlUmVuZGVyUmVzdWx0c1BhcmFtcyB9IGZyb20gJy4vUXVlcnlGb3JtUmVuZGVyZXInO1xuaW1wb3J0IHsgUXVlcnlSZXN1bHRzLCBRdWVyeVJlc3VsdHNQcm9wcyB9IGZyb20gJy4vUXVlcnlSZXN1bHRzJztcbmltcG9ydCB7IFF1ZXJ5U3RhdHVzQmFyIH0gZnJvbSAnLi9RdWVyeVN0YXR1c0Jhcic7XG5cbmludGVyZmFjZSBGb3JtRmllbGRzUGFyYW1zPFQ+IGV4dGVuZHMgRm9ybXNDb250ZXh0Q29udGV4dDxBcGxGb3JtUHJvcHMgJiBUPiB7fVxuXG5leHBvcnQgaW50ZXJmYWNlIEFwbEZvcm1SZW5kZXJQYXJhbXM8VD4gZXh0ZW5kcyBCYXNlUXVlcnlGb3JtUmVuZGVyUGFyYW1zPFQ+IHtcbiAgcmVuZGVyRm9ybShwYXJhbXM6IEZvcm1GaWVsZHNQYXJhbXM8VD4pOiBSZWFjdC5SZWFjdE5vZGU7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgQXBsRm9ybVJlbmRlcmVyUHJvcHM8VD5cbiAgZXh0ZW5kcyBQYXJ0aWFsPEluamVjdGVkRGF0YXNldFN0b3JlPixcbiAgICBQaWNrPFxuICAgICAgQXBsRWRpdG9yUHJvcHMsXG4gICAgICAnaGlkZURhdGVSYW5nZScgfCAnaGlkZUFnYWluc3QnIHwgJ3JlbmRlclJ1bkJ1dHRvbicgfCAnb25SdW5DbGljaycgfCAnbG9hZGluZ0RlZmF1bHRWYWx1ZScgfCAnaGlkZUNsZWFyJ1xuICAgID4sXG4gICAgUGljazxRdWVyeVJlc3VsdHNQcm9wcywgJ29uRXhwYW5kVGltZVJhbmdlJz4ge1xuICBkZWZhdWx0UXVlcnk/OiBBUExSZXF1ZXN0V2l0aE9wdGlvbnM7XG4gIGNsYXNzTmFtZT86IHN0cmluZztcbiAgZGlzYWJsZWQ/OiBib29sZWFuO1xuICBwcm9oaWJpdFRpbWVGaWx0ZXI/OiBib29sZWFuO1xuICByZW5kZXIocmVuZGVyUGFyYW1zOiBBcGxGb3JtUmVuZGVyUGFyYW1zPFQ+KTogUmVhY3QuUmVhY3ROb2RlO1xuICByZW5kZXJSZXN1bHRzPyhwcm9wczogQmFzZVJlbmRlclJlc3VsdHNQYXJhbXM8VD4pOiBSZWFjdC5SZWFjdE5vZGU7XG4gIHJlbmRlckRlZmF1bHRSZXN1bHRzQ29udGVudD8oKTogUmVhY3QuUmVhY3ROb2RlO1xuICBvblN1Ym1pdChcbiAgICBldmVudDogUmVhY3QuRm9ybUV2ZW50PEhUTUxGb3JtRWxlbWVudD4sXG4gICAgZm9ybUZpZWxkczogRm9ybUZpZWxkc1dpdGhIZWxwZXJzPEFwbEZvcm1Qcm9wcyAmIFQ+LFxuICAgIHJlc2V0OiAoKSA9PiB2b2lkLFxuICAgIGlzRGlydHk6ICgpID0+IGJvb2xlYW5cbiAgKTogdm9pZDtcbiAgb25Ecm9wZG93blZpc2libGVDaGFuZ2U/KHZpc2libGU6IGJvb2xlYW4pOiB2b2lkO1xuICBvbkFnZ0NoYXJ0T3B0c0NoYW5nZT8odmFsdWU6IEFnZ0NoYXJ0T3B0cyk6IHZvaWQ7XG4gIHJlbmRlclJlc3VsdEFsZXJ0cz8oKTogUmVhY3QuUmVhY3ROb2RlO1xuICBvbkNsZWFyQ2xpY2s/KGZvcm1GaWVsZHM6IEZvcm1GaWVsZHNXaXRoSGVscGVyczxBcGxGb3JtUHJvcHMgJiBUPik6IHZvaWQ7XG4gIG9uQXBsQ2hhbmdlPyhhcGw6IHN0cmluZyk6IHZvaWQ7XG4gIG9uU2VsZWN0ZWREYXRhc2V0c0NoYW5nZT8oZGF0YXNldHM6IHN0cmluZ1tdKTogdm9pZDtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBBcGxGb3JtUmVuZGVyZXJTdGF0ZSB7XG4gIGVkaXRvcktleTogbnVtYmVyO1xufVxuXG5AaW5qZWN0KCdkYXRhc2V0U3RvcmUnKVxuQG9ic2VydmVyXG5leHBvcnQgY2xhc3MgQXBsRm9ybVJlbmRlcmVyPFQ+IGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50PEFwbEZvcm1SZW5kZXJlclByb3BzPFQ+LCBBcGxGb3JtUmVuZGVyZXJTdGF0ZT4ge1xuICBwcml2YXRlIGFwbEVkaXRvcjogQXBsRWRpdG9yIHwgbnVsbCA9IG51bGw7XG4gIHByaXZhdGUgZm9ybUZpZWxkczogRm9ybUZpZWxkc1dpdGhFdmVudEhlbHBlcnM8QXBsRm9ybVByb3BzICYgVD4gfCB1bmRlZmluZWQ7XG4gIHByaXZhdGUgcmVzZXQ6ICgpID0+IHZvaWQ7XG5cbiAgY29uc3RydWN0b3IocHJvcHM6IEFwbEZvcm1SZW5kZXJlclByb3BzPFQ+KSB7XG4gICAgc3VwZXIocHJvcHMpO1xuXG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby1lbXB0eS1mdW5jdGlvbiwgbm8tZW1wdHktZnVuY3Rpb25cbiAgICB0aGlzLnJlc2V0ID0gKCkgPT4ge307XG5cbiAgICB0aGlzLnN0YXRlID0ge1xuICAgICAgZWRpdG9yS2V5OiAwLFxuICAgIH07XG4gIH1cblxuICByZW5kZXIoKSB7XG4gICAgY29uc3QgeyByZW5kZXIsIGRlZmF1bHRRdWVyeSwgcHJvaGliaXRUaW1lRmlsdGVyIH0gPSB0aGlzLnByb3BzO1xuXG4gICAgY29uc3QgZm9ybUZpZWxkQ29uZmlnczogRm9ybUZpZWxkQ29uZmlnW10gPSBbXG4gICAgICB7XG4gICAgICAgIG5hbWU6ICdlZGl0b3JDb250ZW50JyxcbiAgICAgIH0sXG4gICAgICB7XG4gICAgICAgIG5hbWU6ICdhcGwnLFxuICAgICAgfSxcbiAgICAgIHtcbiAgICAgICAgbmFtZTogJ3F1aWNrUmFuZ2UnLFxuICAgICAgICBpbml0VmFsdWU6ICczMG0nLFxuICAgICAgfSxcbiAgICAgIHtcbiAgICAgICAgbmFtZTogJ3N0YXJ0VGltZScsXG4gICAgICB9LFxuICAgICAge1xuICAgICAgICBuYW1lOiAnZW5kVGltZScsXG4gICAgICB9LFxuICAgICAge1xuICAgICAgICBuYW1lOiAnYWdhaW5zdCcsXG4gICAgICB9LFxuICAgICAge1xuICAgICAgICBuYW1lOiAnYWdhaW5zdFRpbWVzdGFtcCcsXG4gICAgICB9LFxuICAgICAge1xuICAgICAgICBuYW1lOiAnYWdnQ2hhcnRPcHRzJyxcbiAgICAgIH0sXG4gICAgICB7XG4gICAgICAgIC8vIFByZXNlcnZlZCBmb3IgYmFja3dhcmRzIGNvbXBhdGliaWxpdHkuXG4gICAgICAgIG5hbWU6ICdkaXNwbGF5TnVsbCcsXG4gICAgICB9LFxuICAgICAge1xuICAgICAgICBuYW1lOiAnY29udGFpbnNUaW1lRmlsdGVyJyxcbiAgICAgICAgaXNGYWxzZTogcHJvaGliaXRUaW1lRmlsdGVyID8gdHJ1ZSA6IHVuZGVmaW5lZCxcbiAgICAgICAgaGVscGVyVGV4dDogcHJvaGliaXRUaW1lRmlsdGVyID8gJ1RpbWUgZmlsdGVyIGlzIG5vdCBhbGxvd2VkIGluIHF1ZXJ5JyA6IHVuZGVmaW5lZCxcbiAgICAgICAgaW5pdFZhbHVlOiBmYWxzZSxcbiAgICAgIH0sXG4gICAgICB7XG4gICAgICAgIG5hbWU6ICdkYXRhc2V0cycsXG4gICAgICAgIGluaXRWYWx1ZTogW10sXG4gICAgICB9LFxuICAgICAgLy8gU2VsZWN0aW9uIG9wdGlvbnNcbiAgICAgIHtcbiAgICAgICAgbmFtZTogJ3N0YXJ0TGluZU51bWJlcicsXG4gICAgICB9LFxuICAgICAge1xuICAgICAgICBuYW1lOiAnZW5kTGluZU51bWJlcicsXG4gICAgICB9LFxuICAgICAge1xuICAgICAgICBuYW1lOiAnc3RhcnRDb2x1bW4nLFxuICAgICAgfSxcbiAgICAgIHtcbiAgICAgICAgbmFtZTogJ2VuZENvbHVtbicsXG4gICAgICB9LFxuICAgIF07XG5cbiAgICBpbml0Rm9ybUZpZWxkQ29uZmlnc0Zyb21BcGwoZm9ybUZpZWxkQ29uZmlncywgZGVmYXVsdFF1ZXJ5KTtcblxuICAgIGNvbnN0IGRlZmF1bHRWYWx1ZSA9IGZvcm1GaWVsZENvbmZpZ3MuZmluZCgoZmllbGQpID0+IGZpZWxkLm5hbWUgPT09ICdlZGl0b3JDb250ZW50Jyk/LmluaXRWYWx1ZTtcblxuICAgIGNvbnN0IHNlbGVjdGlvbkNvbmZpZzogeyBba2V5OiBzdHJpbmddOiBhbnkgfSA9IGZvcm1GaWVsZENvbmZpZ3MucmVkdWNlKChhY2N1bSwgZmllbGQpID0+IHtcbiAgICAgIGNvbnN0IHsgbmFtZSB9ID0gZmllbGQ7XG5cbiAgICAgIGlmIChuYW1lID09PSAnc3RhcnRMaW5lTnVtYmVyJyB8fCBuYW1lID09PSAnZW5kTGluZU51bWJlcicgfHwgbmFtZSA9PT0gJ3N0YXJ0Q29sdW1uJyB8fCBuYW1lID09PSAnZW5kQ29sdW1uJykge1xuICAgICAgICBhY2N1bVtuYW1lXSA9IGZpZWxkLmluaXRWYWx1ZTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIGFjY3VtO1xuICAgIH0sIHt9KTtcblxuICAgIGxldCBzZWxlY3Rpb246IElSYW5nZSB8IHVuZGVmaW5lZDtcblxuICAgIGlmIChcbiAgICAgIGlzTnVtZXJpYyhzZWxlY3Rpb25Db25maWcuc3RhcnRMaW5lTnVtYmVyKSAmJlxuICAgICAgaXNOdW1lcmljKHNlbGVjdGlvbkNvbmZpZy5lbmRMaW5lTnVtYmVyKSAmJlxuICAgICAgaXNOdW1lcmljKHNlbGVjdGlvbkNvbmZpZy5zdGFydENvbHVtbikgJiZcbiAgICAgIGlzTnVtZXJpYyhzZWxlY3Rpb25Db25maWcuZW5kQ29sdW1uKVxuICAgICkge1xuICAgICAgc2VsZWN0aW9uID0ge1xuICAgICAgICBzdGFydExpbmVOdW1iZXI6IHNlbGVjdGlvbkNvbmZpZy5zdGFydExpbmVOdW1iZXIsXG4gICAgICAgIHN0YXJ0Q29sdW1uOiBzZWxlY3Rpb25Db25maWcuc3RhcnRDb2x1bW4sXG4gICAgICAgIGVuZExpbmVOdW1iZXI6IHNlbGVjdGlvbkNvbmZpZy5lbmRMaW5lTnVtYmVyLFxuICAgICAgICBlbmRDb2x1bW46IHNlbGVjdGlvbkNvbmZpZy5lbmRDb2x1bW4sXG4gICAgICB9O1xuICAgIH1cblxuICAgIHJldHVybiByZW5kZXIoe1xuICAgICAgcmVuZGVyRm9ybTogKGNvbnRleHQpID0+IHtcbiAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICA8T2JzZXJ2ZXI+XG4gICAgICAgICAgICB7KCkgPT4ge1xuICAgICAgICAgICAgICBjb25zdCB7XG4gICAgICAgICAgICAgICAgaGlkZURhdGVSYW5nZSxcbiAgICAgICAgICAgICAgICBoaWRlQWdhaW5zdCxcbiAgICAgICAgICAgICAgICByZW5kZXJSdW5CdXR0b24sXG4gICAgICAgICAgICAgICAgcmVuZGVyRGVmYXVsdFJlc3VsdHNDb250ZW50LFxuICAgICAgICAgICAgICAgIG9uUnVuQ2xpY2ssXG4gICAgICAgICAgICAgICAgY2xhc3NOYW1lLFxuICAgICAgICAgICAgICAgIHJlbmRlclJlc3VsdHMsXG4gICAgICAgICAgICAgICAgb25FeHBhbmRUaW1lUmFuZ2UsXG4gICAgICAgICAgICAgICAgb25Ecm9wZG93blZpc2libGVDaGFuZ2UsXG4gICAgICAgICAgICAgICAgb25BZ2dDaGFydE9wdHNDaGFuZ2UsXG4gICAgICAgICAgICAgICAgZGlzYWJsZWQsXG4gICAgICAgICAgICAgICAgcmVuZGVyUmVzdWx0QWxlcnRzLFxuICAgICAgICAgICAgICAgIGxvYWRpbmdEZWZhdWx0VmFsdWUsXG4gICAgICAgICAgICAgICAgaGlkZUNsZWFyLFxuICAgICAgICAgICAgICB9ID0gdGhpcy5wcm9wcztcblxuICAgICAgICAgICAgICBjb25zdCB7IGlzUXVlcnlSdW5uaW5nLCBsYXN0Rm9ybVZhbHVlcyB9ID0gdGhpcy5wcm9wcy5kYXRhc2V0U3RvcmUhO1xuXG4gICAgICAgICAgICAgIGNvbnN0IHsgZm9ybUZpZWxkcywgaXNEaXJ0eSwgcmVzZXQgfSA9IGNvbnRleHQ7XG4gICAgICAgICAgICAgIC8vIHN0b3JlIHRoZXNlIGFzIG1lbWJlcnMgc28gYm91bmQgZnVuY3Rpb25zIGRvbid0IG5lZWQgdG8gYmUgY3JlYXRlZCB3aGljaCB0cmlnZ2VycyByZS1yZW5kZXJzXG4gICAgICAgICAgICAgIHRoaXMuZm9ybUZpZWxkcyA9IGZvcm1GaWVsZHM7XG4gICAgICAgICAgICAgIHRoaXMucmVzZXQgPSByZXNldDtcblxuICAgICAgICAgICAgICBsZXQgZGlydHkgPSBpc0RpcnR5KCk7XG4gICAgICAgICAgICAgIC8vIEV4cGVjdHMgbGFzdFF1ZXJ5Rm9ybVZhbHVlcyB0byBiZSBzZXQgb25TdWJtaXQgYW5kIHVzZSB0aG9zZSB0byBjaGVjayBpZiB0aGUgZm9ybSBpcyBkaXJ0eVxuICAgICAgICAgICAgICAvLyBvdGhlcndpc2UsIHVzZSBpc0RpcnR5XG4gICAgICAgICAgICAgIGlmIChsYXN0Rm9ybVZhbHVlcykge1xuICAgICAgICAgICAgICAgIGNvbnN0IGN1cnJWYWx1ZXMgPSBmb3JtRmllbGRzVG9PYmplY3Q8QXBsRm9ybVByb3BzPihmb3JtRmllbGRzKTtcbiAgICAgICAgICAgICAgICBkaXJ0eSA9ICFpc0VxdWFsKGN1cnJWYWx1ZXMsIGxhc3RGb3JtVmFsdWVzKTtcbiAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgIGNvbnN0IHZhbGlkYXRpb25FcnJvcnM6IHN0cmluZ1tdID0gW107XG5cbiAgICAgICAgICAgICAgT2JqZWN0LmtleXMoZm9ybUZpZWxkcykuZm9yRWFjaCgoa2V5KSA9PiB7XG4gICAgICAgICAgICAgICAgY29uc3QgZmllbGQgPSBmb3JtRmllbGRzW2tleV07XG5cbiAgICAgICAgICAgICAgICBpZiAoZmllbGQuaGFzRXJyb3IgJiYgZmllbGQuaGVscGVyVGV4dCkge1xuICAgICAgICAgICAgICAgICAgdmFsaWRhdGlvbkVycm9ycy5wdXNoKGZpZWxkLmhlbHBlclRleHQpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgY29uc3QgaXNDYW5jZWxhYmxlID0gaXNRdWVyeVJ1bm5pbmc7XG5cbiAgICAgICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT17Y2xhc3NOYW1lfT5cbiAgICAgICAgICAgICAgICAgIDxEeW5hbWljQXBsRWRpdG9yXG4gICAgICAgICAgICAgICAgICAgIGtleT17dGhpcy5zdGF0ZS5lZGl0b3JLZXl9XG4gICAgICAgICAgICAgICAgICAgIGlzRGlydHk9e2RpcnR5fVxuICAgICAgICAgICAgICAgICAgICBkaXNhYmxlZD17ZGlzYWJsZWR9XG4gICAgICAgICAgICAgICAgICAgIGhpZGVEYXRlUmFuZ2U9e2hpZGVEYXRlUmFuZ2V9XG4gICAgICAgICAgICAgICAgICAgIGhpZGVBZ2FpbnN0PXtoaWRlQWdhaW5zdH1cbiAgICAgICAgICAgICAgICAgICAgYXBsRWRpdG9yUmVmPXsocmVmKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgdGhpcy5hcGxFZGl0b3IgPSByZWY7XG4gICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgIGRlZmF1bHRWYWx1ZT17ZGVmYXVsdFZhbHVlfVxuICAgICAgICAgICAgICAgICAgICBvbkVkaXRvckNvbnRlbnRDaGFuZ2U9e3RoaXMub25FZGl0b3JDb250ZW50Q2hhbmdlfVxuICAgICAgICAgICAgICAgICAgICBvbkFwbENoYW5nZT17dGhpcy5vbkFwbENoYW5nZX1cbiAgICAgICAgICAgICAgICAgICAgb25SdW5DbGljaz17b25SdW5DbGlja31cbiAgICAgICAgICAgICAgICAgICAgcmVuZGVyUnVuQnV0dG9uPXtyZW5kZXJSdW5CdXR0b259XG4gICAgICAgICAgICAgICAgICAgIHF1aWNrUmFuZ2U9e2Zvcm1GaWVsZHMucXVpY2tSYW5nZS52YWx1ZX1cbiAgICAgICAgICAgICAgICAgICAgc3RhcnRUaW1lPXtmb3JtRmllbGRzLnN0YXJ0VGltZS52YWx1ZX1cbiAgICAgICAgICAgICAgICAgICAgZW5kVGltZT17Zm9ybUZpZWxkcy5lbmRUaW1lLnZhbHVlfVxuICAgICAgICAgICAgICAgICAgICBhZ2FpbnN0PXtmb3JtRmllbGRzLmFnYWluc3QudmFsdWV9XG4gICAgICAgICAgICAgICAgICAgIGFnYWluc3RUaW1lc3RhbXA9e2Zvcm1GaWVsZHMuYWdhaW5zdFRpbWVzdGFtcC52YWx1ZX1cbiAgICAgICAgICAgICAgICAgICAgb25RdWlja1JhbmdlQ2hhbmdlZD17dGhpcy5vblF1aWNrUmFuZ2VDaGFuZ2VkfVxuICAgICAgICAgICAgICAgICAgICBvbkRhdGVSYW5nZUNoYW5nZWQ9e3RoaXMub25EYXRlUmFuZ2VDaGFuZ2VkfVxuICAgICAgICAgICAgICAgICAgICBvbkNvbXBhcmVBZ2FpbnN0Q2hhbmdlZD17dGhpcy5vbkNvbXBhcmVBZ2FpbnN0Q2hhbmdlZH1cbiAgICAgICAgICAgICAgICAgICAgb25Db21wYXJlQWdhaW5zdFRpbWVzdGFtcENoYW5nZWQ9e3RoaXMub25Db21wYXJlQWdhaW5zdFRpbWVzdGFtcENoYW5nZWR9XG4gICAgICAgICAgICAgICAgICAgIGRpc2FibGVBZ2FpbnN0PXshZm9ybUZpZWxkcy5hcGwudmFsdWUubWF0Y2goL3N1bW1hcml6ZS9naSkgfHwgZm9ybUZpZWxkcy5jb250YWluc1RpbWVGaWx0ZXIudmFsdWV9XG4gICAgICAgICAgICAgICAgICAgIG9uU2VsZWN0aW9uQ2hhbmdlPXt0aGlzLm9uU2VsZWN0aW9uQ2hhbmdlZH1cbiAgICAgICAgICAgICAgICAgICAgc2VsZWN0aW9uPXtzZWxlY3Rpb259XG4gICAgICAgICAgICAgICAgICAgIGNvbnRhaW5zVGltZUZpbHRlcj17Zm9ybUZpZWxkcy5jb250YWluc1RpbWVGaWx0ZXIudmFsdWV9XG4gICAgICAgICAgICAgICAgICAgIG9uQ29udGFpbnNUaW1lRmlsdGVyQ2hhbmdlPXt0aGlzLm9uQ29udGFpbnNUaW1lRmlsdGVyQ2hhbmdlfVxuICAgICAgICAgICAgICAgICAgICBvblNlbGVjdGVkRGF0YXNldHNDaGFuZ2U9e3RoaXMub25TZWxlY3RlZERhdGFzZXRzQ2hhbmdlfVxuICAgICAgICAgICAgICAgICAgICBsb2FkaW5nRGVmYXVsdFZhbHVlPXtsb2FkaW5nRGVmYXVsdFZhbHVlfVxuICAgICAgICAgICAgICAgICAgICBvbkNsZWFyQ2xpY2s9e2lzQ2FuY2VsYWJsZSA/IHRoaXMub25DYW5jZWxDbGljayA6IHRoaXMub25DbGVhckNsaWNrfVxuICAgICAgICAgICAgICAgICAgICBjbGVhckJ0blRleHQ9e2lzQ2FuY2VsYWJsZSA/ICdDYW5jZWwnIDogdW5kZWZpbmVkfVxuICAgICAgICAgICAgICAgICAgICBoaWRlQ2xlYXI9e2hpZGVDbGVhcn1cbiAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgICA8UXVlcnlTdGF0dXNCYXJcbiAgICAgICAgICAgICAgICAgICAgb25BZ2dDaGFydE9wdHNDaGFuZ2U9e29uQWdnQ2hhcnRPcHRzQ2hhbmdlfVxuICAgICAgICAgICAgICAgICAgICBvbkRyb3Bkb3duVmlzaWJsZUNoYW5nZT17b25Ecm9wZG93blZpc2libGVDaGFuZ2V9XG4gICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgICAgPFF1ZXJ5QWxlcnRzIGNsYXNzTmFtZT1cIm00XCIgLz5cbiAgICAgICAgICAgICAgICAgIHtyZW5kZXJSZXN1bHRzID8gKFxuICAgICAgICAgICAgICAgICAgICByZW5kZXJSZXN1bHRzKHtcbiAgICAgICAgICAgICAgICAgICAgICBjb250ZXh0OiBjb250ZXh0LFxuICAgICAgICAgICAgICAgICAgICAgIHF1ZXJ5UmVzdWx0c1Byb3BzOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBvbkxpbmVDb2xBbGVydENsaWNrOiB0aGlzLm9uTGluZUNvbEFsZXJ0Q2xpY2suYmluZCh0aGlzKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIG90aGVyRXJyb3I6IHZhbGlkYXRpb25FcnJvcnM/Lmxlbmd0aCA/IHZhbGlkYXRpb25FcnJvcnNbMF0gOiB1bmRlZmluZWQsXG4gICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAgICkgOiAoXG4gICAgICAgICAgICAgICAgICAgIDxRdWVyeVJlc3VsdHNcbiAgICAgICAgICAgICAgICAgICAgICAvLyBTZXR0aW5ncyBhcmUgZ2xvYmFsXG4gICAgICAgICAgICAgICAgICAgICAgc2V0dGluZ3NLZXk9XCIqXCJcbiAgICAgICAgICAgICAgICAgICAgICBzaG93QWxsQ29sdW1uc1xuICAgICAgICAgICAgICAgICAgICAgIHJlbmRlckRlZmF1bHRDb250ZW50PXtyZW5kZXJEZWZhdWx0UmVzdWx0c0NvbnRlbnR9XG4gICAgICAgICAgICAgICAgICAgICAgb25FeHBhbmRUaW1lUmFuZ2U9e2Zvcm1GaWVsZHMuY29udGFpbnNUaW1lRmlsdGVyLnZhbHVlID8gdW5kZWZpbmVkIDogb25FeHBhbmRUaW1lUmFuZ2V9XG4gICAgICAgICAgICAgICAgICAgICAgaGlkZVJhd1xuICAgICAgICAgICAgICAgICAgICAgIHJlbmRlck90aGVyQWxlcnRzPXtyZW5kZXJSZXN1bHRBbGVydHMgPyByZW5kZXJSZXN1bHRBbGVydHMgOiB1bmRlZmluZWR9XG4gICAgICAgICAgICAgICAgICAgICAgb25MaW5lQ29sQWxlcnRDbGljaz17dGhpcy5vbkxpbmVDb2xBbGVydENsaWNrfVxuICAgICAgICAgICAgICAgICAgICAgIG90aGVyRXJyb3I9e3ZhbGlkYXRpb25FcnJvcnM/Lmxlbmd0aCA/IHZhbGlkYXRpb25FcnJvcnNbMF0gOiB1bmRlZmluZWR9XG4gICAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgfX1cbiAgICAgICAgICA8L09ic2VydmVyPlxuICAgICAgICApO1xuICAgICAgfSxcbiAgICAgIGZvcm1GaWVsZENvbmZpZ3M6IGZvcm1GaWVsZENvbmZpZ3MsXG4gICAgICBvblN1Ym1pdDogdGhpcy5vblN1Ym1pdCxcbiAgICB9KTtcbiAgfVxuXG4gIG9uU3VibWl0ID0gKFxuICAgIGV2ZW50OiBSZWFjdC5Gb3JtRXZlbnQ8SFRNTEZvcm1FbGVtZW50PixcbiAgICBmb3JtRmllbGRzOiBGb3JtRmllbGRzV2l0aEhlbHBlcnM8QXBsRm9ybVByb3BzICYgVD4sXG4gICAgcmVzZXQ6ICgpID0+IHZvaWQsXG4gICAgaXNEaXJ0eTogKCkgPT4gYm9vbGVhblxuICApID0+IHtcbiAgICB0aGlzLnByb3BzLm9uU3VibWl0KGV2ZW50LCBmb3JtRmllbGRzLCByZXNldCwgaXNEaXJ0eSk7XG4gIH07XG5cbiAgb25FZGl0b3JDb250ZW50Q2hhbmdlID0gKGVkaXRvckNvbnRlbnQ6IHN0cmluZykgPT4ge1xuICAgIHRoaXMuZm9ybUZpZWxkcz8uZWRpdG9yQ29udGVudC5vbkNoYW5nZVZhbHVlKGVkaXRvckNvbnRlbnQpO1xuICB9O1xuXG4gIG9uQXBsQ2hhbmdlID0gKGFwbDogc3RyaW5nKSA9PiB7XG4gICAgdGhpcy5mb3JtRmllbGRzPy5hcGwub25DaGFuZ2VWYWx1ZShhcGwpO1xuXG4gICAgaWYgKHRoaXMucHJvcHMub25BcGxDaGFuZ2UpIHtcbiAgICAgIHRoaXMucHJvcHMub25BcGxDaGFuZ2UoYXBsKTtcbiAgICB9XG4gIH07XG5cbiAgb25RdWlja1JhbmdlQ2hhbmdlZCA9IChxdWlja1JhbmdlPzogUXVpY2tSYW5nZSkgPT4ge1xuICAgIHRoaXMuZm9ybUZpZWxkcz8ucXVpY2tSYW5nZS5vbkNoYW5nZVZhbHVlKHF1aWNrUmFuZ2UpO1xuXG4gICAgaWYgKHF1aWNrUmFuZ2UgJiYgdGhpcy5mb3JtRmllbGRzKSB7XG4gICAgICAvLyBDbGVhciB0aGUgc3RhcnQsIGVuZFxuICAgICAgY29uc3QgeyBzdGFydFRpbWUsIGVuZFRpbWUgfSA9IHRoaXMuZm9ybUZpZWxkcztcblxuICAgICAgc3RhcnRUaW1lLm9uQ2hhbmdlVmFsdWUoJycpO1xuICAgICAgZW5kVGltZS5vbkNoYW5nZVZhbHVlKCcnKTtcbiAgICB9XG4gIH07XG5cbiAgb25EYXRlUmFuZ2VDaGFuZ2VkID0gKHRpbWVzdGFtcFN0YXJ0Pzogc3RyaW5nLCB0aW1lc3RhbXBFbmQ/OiBzdHJpbmcsIHJlZnJlc2hSYXRlPzogbnVtYmVyKSA9PiB7XG4gICAgaWYgKHRoaXMuZm9ybUZpZWxkcykge1xuICAgICAgY29uc3QgeyBzdGFydFRpbWUsIGVuZFRpbWUgfSA9IHRoaXMuZm9ybUZpZWxkcztcblxuICAgICAgc3RhcnRUaW1lLm9uQ2hhbmdlVmFsdWUodGltZXN0YW1wU3RhcnQpO1xuICAgICAgZW5kVGltZS5vbkNoYW5nZVZhbHVlKHRpbWVzdGFtcEVuZCk7XG5cbiAgICAgIGlmICh0aW1lc3RhbXBTdGFydCB8fCB0aW1lc3RhbXBFbmQpIHtcbiAgICAgICAgLy8gQ2xlYXIgdGhlIHF1aWNrIHJhbmdlXG4gICAgICAgIHRoaXMuZm9ybUZpZWxkcy5xdWlja1JhbmdlLm9uQ2hhbmdlVmFsdWUoJycpO1xuICAgICAgfVxuICAgIH1cbiAgfTtcblxuICBvbkNvbXBhcmVBZ2FpbnN0Q2hhbmdlZCA9IChjb21wYXJlQWdhaW5zdD86IENvbXBhcmVBZ2FpbnN0KSA9PiB7XG4gICAgdGhpcy5mb3JtRmllbGRzPy5hZ2FpbnN0Lm9uQ2hhbmdlVmFsdWUoY29tcGFyZUFnYWluc3QpO1xuXG4gICAgaWYgKGNvbXBhcmVBZ2FpbnN0KSB7XG4gICAgICAvLyBDbGVhciB0aGUgYWdhaW5zdCB0aW1lc3RhbXBcbiAgICAgIHRoaXMuZm9ybUZpZWxkcz8uYWdhaW5zdFRpbWVzdGFtcC5vbkNoYW5nZVZhbHVlKCcnKTtcbiAgICB9XG4gIH07XG5cbiAgb25Db21wYXJlQWdhaW5zdFRpbWVzdGFtcENoYW5nZWQgPSAodGltZXN0YW1wPzogRmFuY3lUaW1lKSA9PiB7XG4gICAgdGhpcy5mb3JtRmllbGRzPy5hZ2FpbnN0VGltZXN0YW1wLm9uQ2hhbmdlVmFsdWUodGltZXN0YW1wKTtcblxuICAgIGlmICh0aW1lc3RhbXApIHtcbiAgICAgIC8vIENsZWFyIHRoZSBhZ2FpbnN0XG4gICAgICB0aGlzLmZvcm1GaWVsZHM/LmFnYWluc3Qub25DaGFuZ2VWYWx1ZSgnJyk7XG4gICAgfVxuICB9O1xuXG4gIG9uU2VsZWN0aW9uQ2hhbmdlZCA9IChzZWxlY3Rpb246IElSYW5nZSkgPT4ge1xuICAgIHRoaXMuZm9ybUZpZWxkcz8uc3RhcnRMaW5lTnVtYmVyLm9uQ2hhbmdlVmFsdWUoc2VsZWN0aW9uLnN0YXJ0TGluZU51bWJlcik7XG4gICAgdGhpcy5mb3JtRmllbGRzPy5lbmRMaW5lTnVtYmVyLm9uQ2hhbmdlVmFsdWUoc2VsZWN0aW9uLmVuZExpbmVOdW1iZXIpO1xuICAgIHRoaXMuZm9ybUZpZWxkcz8uc3RhcnRDb2x1bW4ub25DaGFuZ2VWYWx1ZShzZWxlY3Rpb24uc3RhcnRDb2x1bW4pO1xuICAgIHRoaXMuZm9ybUZpZWxkcz8uZW5kQ29sdW1uLm9uQ2hhbmdlVmFsdWUoc2VsZWN0aW9uLmVuZENvbHVtbik7XG4gIH07XG5cbiAgb25MaW5lQ29sQWxlcnRDbGljayA9IChsaW5lOiBudW1iZXIsIGNvbDogbnVtYmVyKSA9PiB7XG4gICAgdGhpcy5hcGxFZGl0b3I/LnNldFBvc2l0aW9uKGxpbmUsIGNvbCk7XG4gIH07XG5cbiAgb25Db250YWluc1RpbWVGaWx0ZXJDaGFuZ2UgPSAoY29udGFpbnNUaW1lRmlsdGVyOiBib29sZWFuKSA9PiB7XG4gICAgdGhpcy5mb3JtRmllbGRzPy5jb250YWluc1RpbWVGaWx0ZXIub25DaGFuZ2VWYWx1ZShjb250YWluc1RpbWVGaWx0ZXIpO1xuXG4gICAgaWYgKGNvbnRhaW5zVGltZUZpbHRlcikge1xuICAgICAgLy8gUmVtb3ZlIGFnYWluc3QgdmFsdWUgc2luY2UgdGltZSByYW5nZSBmcm9tIHdoZXJlIGNsYXVzZSBpcyB1bmtub3duXG4gICAgICB0aGlzLmZvcm1GaWVsZHM/LmFnYWluc3Qub25DaGFuZ2VWYWx1ZSh1bmRlZmluZWQpO1xuICAgIH1cbiAgfTtcblxuICBvblNlbGVjdGVkRGF0YXNldHNDaGFuZ2UgPSAoZGF0YXNldHM6IHN0cmluZ1tdKSA9PiB7XG4gICAgaWYgKCFpc0VxdWFsKHRoaXMuZm9ybUZpZWxkcz8uZGF0YXNldHMsIGRhdGFzZXRzKSkge1xuICAgICAgdGhpcy5mb3JtRmllbGRzPy5kYXRhc2V0cy5vbkNoYW5nZVZhbHVlKGRhdGFzZXRzKTtcblxuICAgICAgaWYgKHRoaXMucHJvcHMub25TZWxlY3RlZERhdGFzZXRzQ2hhbmdlKSB7XG4gICAgICAgIHRoaXMucHJvcHMub25TZWxlY3RlZERhdGFzZXRzQ2hhbmdlKGRhdGFzZXRzKTtcbiAgICAgIH1cbiAgICB9XG4gIH07XG5cbiAgb25DbGVhckNsaWNrID0gKGU6IFJlYWN0Lk1vdXNlRXZlbnQpID0+IHtcbiAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcblxuICAgIHRoaXMucmVzZXQoKTtcblxuICAgIHRoaXMucHJvcHMuZGF0YXNldFN0b3JlIS5jYW5jZWxRdWVyeWluZygpO1xuXG4gICAgLy8gY2hhbmdlIGtleSB0byByZWluaXRpYWxpemUgZWRpdG9yXG4gICAgdGhpcy5zZXRTdGF0ZSh7IGVkaXRvcktleTogdGhpcy5zdGF0ZS5lZGl0b3JLZXkgKyAxIH0pO1xuXG4gICAgaWYgKHRoaXMucHJvcHMub25DbGVhckNsaWNrICYmIHRoaXMuZm9ybUZpZWxkcykge1xuICAgICAgdGhpcy5wcm9wcy5vbkNsZWFyQ2xpY2sodGhpcy5mb3JtRmllbGRzKTtcbiAgICB9XG4gIH07XG5cbiAgb25DYW5jZWxDbGljayA9IChlOiBSZWFjdC5Nb3VzZUV2ZW50KSA9PiB7XG4gICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7XG5cbiAgICB0aGlzLnByb3BzLmRhdGFzZXRTdG9yZSEuY2FuY2VsUXVlcnlpbmcoKTtcbiAgfTtcblxuICBpbnNlcnRUZXh0ID0gKHRleHQ6IHN0cmluZykgPT4ge1xuICAgIGlmICh0aGlzLmFwbEVkaXRvcikge1xuICAgICAgdGhpcy5hcGxFZGl0b3IuaW5zZXJ0VGV4dCh0ZXh0KTtcbiAgICB9XG4gIH07XG59XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///88215\n");

/***/ })

}]);